\subsection{Использование перечислений типа для обращения к полям объекта (второй вариант)}

Реализуем пример по-другому.

Создадим структуру, включающую объединение и поле перечисляемого типа, характеризующее форму оплаты:

\begin{verbatim}
int main() {
    enum paytype{CARD, CHECK}; /* две формы оплаты */
    struct {
        paytype ptype; // поле-флаг включено в состав структуры
        union {
            char card[25];
            long check;
        } info;
    } str;
\end{verbatim}

Возможное присваение значение объединению:

\begin{verbatim}
    str.ptype = paytype(0); /* заполняет поле-флаг объединения,
как элемента структуры */
    strcpy(str.info.card, "12345"); /* объединения, как элемент структуры,
получает своё значение через поле card или */
    str.ptype = paytype(1); /* заполняет поле-флаг объединения,
как элемента структуры */
    str.info.chech = 105l; /* объединение как элемента структуры,
получает свое значение через поле check */
\end{verbatim}