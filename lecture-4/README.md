<!--
# 2019-09-28_lecture.marktext
-->

## Синтаксис языка Си

В языках программирования вместо номеров ячейкам памяти принято давать имена (идентификаторы), а содержимое ячеек называть переменными, или константами, в зависимости от того, изменяется значение в процессе работы или нет.

В языке Си фундаментальным понятием является инструкция (операция, оператор, функция), которая представляет собой описание определенного набора действий. Таким образом, программа, написанная на языке Си, состоит из последовательности инструкций.

## Синтаксис языка Си. Алфавит языка

Алфавит языка Си включает:

- прописные и строчные буквы латинского алфавита, а также знак подчеркивания (код ASCII 95);

- арабские цифры от 0 до 9;

- специальные символы;
  
  |                   |                        |                        |                           |
  |:----------------- |:---------------------- |:---------------------- |:------------------------- |
  | + (плюс)          | > (больше)             | {} (фигурные скобки)   | , (запятая)               |
  | - (минус)         | < (меньше)             | () (круглые скобки)    | : (двоеточие)             |
  | * (звёздочка)     | ; (точка с запятой)    | _ (знак подчёркивания) | # (номер)                 |
  | / (дробная черта) | & (амперсант)          | (пробел)               | % (процент)               |
  | = (равно)         | [] (квадратные скобки) | . (точка)              | ~ (поразрядное отрицание) |
  |                   |                        |                        | ? (знак вопроса)          |
  |                   |                        |                        | ! (восклицательный знак)  |
  |                   |                        |                        | \ (обратный слеш)         |

пробельные (разделительные) символы:

- пробел,

- символы табуляции,

- перевода строки,

- возврата каретки,

- новая страница

- новая строка.

## Лексемы

Из символов алфавита формируются лексемы языка - минимальные значимые единицы текста в программе:

- идентификаторы;

- ключевые (зарезервированные) слова;

- знаки операций;

- константы;

- разделители (скобки, точка, запятая, пробельные, символы).

Границы лексем определяются другими лексемами, такими, как разделители или знаки операций, а также комментариями.

## Идентификаторы и ключевые слова

Идентификатор (в дальнейшем, для краткости - ID) - это имя программного объекта (константы, переменной, метки, типа, функции, модуля, поля в структуре). 

- В идентификаторе могут использоваться латинские буквы, цифры и знак подчеркивания;

- первым символом ID может быть буква или знак подчеркивания, но не цифра;

- пробелы внутри ID не допускаются.

Длина идентификатора определяется реализацией (версией) транслятора Си и редактора связей (компоновщика). Современная тенденция - снятие ограничений длины идентификатора.

При именовании объектов следует придерживаться общепринятых соглашений: 

- ID переменной обычно пишется строчными буквами, например, index (для
  сравнения: Index - это ID типа или функции, а INDEX - константа);

- идентификатор должен нести какой-либо смысл, поясняя назначение объекта в программе, например birth_date (день рождения) или sum (сумма);

- если ID состоит из нескольких слов, как, например birth_date, то принято либо
  разделять слова символом подчеркивания (birth_date), либо писать каждое
  следующее слово с большой буквы (birthDate).

Разделители идентификаторов объектов:

- пробелы;

- символы табуляции, перевода строки и страницы;

- комментарии (играют роль пробелов).

Наличие разделителей не влияет на работу программы.

В Си прописные и строчные буквы - различные символы. Идентификаторы Name, NAME, name - различные объекты.

## Ключевые слова

Ключевые (зарезервированные) слова не могут быть использованы как идентификаторы

Ключевые слова Си

|          |          |          |        |
| -------- | -------- | -------- | ------ |
| auto     | break    | case     | char   |
| const    | continue | default  | do     |
| double   | else     | enum     | extern |
| float    | for      | goto     | if     |
| int      | long     | register | return |
| short    | signed   | sizeof   | statif |
| struct   | swith    | typedef  | union  |
| unsigned | void     | volatile | while  |

## Знаки операций

Знак операции - это один или более символов, определяющих действие над операндами. Внутри знака операции пробелы не допускаются. Операции делятся на унарные, бинарные и тернарные операции, по количеству участвующих в них операндов.

## Литералы (константы)

Когда в программе встречается некоторое число, например 1, то это число называется литералом или литеральной константой. Константой, потому что мы не можем изменить его значение, и литералом, потому что буквально передает свое значение (от латинского literal - буквальный).

Литерал является не адресуемой величиной: хотя реально он, конечно, хранится в памяти машины, нет никакого способа узнать его адрес. Каждый литерал имеет определенный тип.

## Комментарии

Еще один базовый элемент языка программирования - комментарий, - не является лексемой. Внутри комментария можно использовать любые допустимые на данном компьютере символы, а не только символы из алфавита языка программирования, поскольку компилятор комментарии игнорирует.

В Си комментарии ограничиваются парами символов `/*` и `*/`, а в С++ был введён вариант комментария, который начинается символами `//` и заканчивается символом перехода на новую строку.

## Базовые типы объектов. Простейшие программы

Программа написанная на языке Си состоит из одной или нескольких функций, причем одна функция обязательно имеет идентификатор, а именно имя main(). Это основная функция, её обозначение. Это управление всей работы программы или проекта. Как правило, это функция не имеет параметров, не возвращает результат, но наличие круглых скобок обязательно, как и у других функций без параметров.

Общая структура программы на языке Си имеет вид:

## Простейшая программа

```
<директивы препроцессора>
<определение типов пользователя - typedef>
<описание прототипов функций>
<определение глобальных переменных>
<функции>
```

В свою очередь, функции имеют такую структуру:

```
<класс памяти> <тип> <ID функции> (<объявления параметров>)
{ - начало функции
    код функции
} - конец функции
```

Перед компиляцией программа на языке С обрабатывается специальной программой называемой препроцессором. Препроцессор работает под управлением директив.

## Директивы

Препроцессорные директивы начинаются с символа #, за которым следует наименование директивы, указывающее текущую операцию препроцессора.

Препроцессор решает ряд задач по предварительной обработке программы, основной из которых является заголовочных файлов (обычных текстов) с декларацией стандартных библиотечных функций, которые используются в программе. Наименование такой директивы include (подключить), а общий формат ее использования:

```c
#include <ID_файлf.h>
```

где "h" - расширение заголовочного файлов.

Если идентификатор файла заключен в угловые скобки (`< >`), то поиск данного файла производится в стандартной директории с этими файлами, если же ID файла заключено в двойные кавычки (`" "`), то поиск данного файла производится в текущей директории.

К наиболее часто используемым библиотекам относятся:

- stdio.h - содержит стандартные функции файлового ввода-вывода;

- conio.h - функции для работы с консолью (клавиатура, экран монитора);

- math. h - математические функции.

Второе основное назначение препроцессора - это обработка макро определений.

Макроподстановка `define` (определить) имеет общий вид:

```c
#define <ID> <строка>
```

Например:

```c
#define PI 3.1415927
```

В ходе препроцессорной обработки программы появление в тексте индикатора PI везде замениться значением 3.1415926.

Пример:

```c
#include <stdio.h>
void main(void)
{ //начала функции main
    printf("Высшая отметка знаний - 10!");    
} //окончание функции main
```

Отличительные признаки функции служат круглые скобки после идентификатора функции. В эти круглые скобки заключается список аргументов. Если аргументы отсутствуют, то можно указать void - отсутствие значения.

Перед идентификатором обычно указывается тип возвращаемого значения. В нашем случае main ничего не возвращает, указывает void.

Код функции представляет себя набор инструкций. Каждая инструкция заканчивается символом "`;`".  В нашем примере 1-на инструкция, которая является функцией, и выполняет форматный вывод на экран. В данном случае фразу "Высшая оценка знаний - 10".

## Основные типы данных

Данные в языке Си разделяются на две категории:

- простые (скалярные), будем их называть базовыми,

- сложные (составные) типы данных.

Основные типы базовых данных стандартный целый `(int)`, вещественный с одинарной точностью `(float)` и символьный `(char)`.

В свою очередь данные целого типа

- могут быть коротким short, 

- длинным long

- без знаковым unsigned.

Сложные типы:

- массивы, 

- структуры, 

- объединения перечисления.

Данные целого и вещественного типа находится в определенных цифровых пределах, т. к. занимают разный размер оперативной памяти.

| Тип данных    | Объем памяти (байт) | Диапазон значений             |
| ------------- | ------------------- | ----------------------------- |
| char          | 1                   | $-128..127$                   |
| int           | 2                   | $-32768..32767$               |
| short         | 2 (1)               | $-32768..32767 (-128..127)$   |
| long          | 4                   | $-2147483648..2147483647$     |
| unsigned int  | 4                   | $0..65535$                    |
| unsigned long | 4                   | $0..4294967295$               |
| float         | 4                   | $3.14*10^{-38}..3.14*10^{38}$ |
| double        | 8                   | $1.7*10^{-308}..1.7*10^{308}$ |
